<!DOCTYPE html>
<html>




<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Validation of Success Criteria with XLT</title>
  <meta name="description" content="Xceptance LoadTest - XLT, Documentation, Manual, Howto, FAQ">

  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,700,400italic,300italic" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:100,300,400,500,700" rel="stylesheet" type="text/css">

  <link href="../css/font-awesome.min.css" rel="stylesheet" media="all"  type="text/css" />
  <link href="../css/lightbox.css" rel="stylesheet" media="all"  type="text/css" />

  <link href="../css/highlightjs/default.css" rel="stylesheet" type="text/css" />
  <link href="../css/highlightjs/mono-blue.css" rel="stylesheet" type="text/css" />

  <link href="../css/xltdoc.css" rel="stylesheet" media="all"  type="text/css" />

  <script type="text/javascript" src="../js/jquery-1.11.1.min.js"></script>
  <script type="text/javascript" src="../js/bootstrap.min.js"></script>
  <script type="text/javascript" src="../js/toc.min.js"></script>
  <script type="text/javascript" src="../js/lightbox.min.js"></script>
  <script type="text/javascript" src="../js/headroom.min.js"></script>

  <!-- <script type="text/javascript" src="../js/jquery.scrollIntoView.min.js"></script -->
  <script type="text/javascript" src="../js/xltdoc.js"></script>

  <script type="text/javascript" src="../js/highlight.pack.js"></script>
</head>


<body data-spy="scroll" data-target="#toc" data-offset="100" class="layout-manual how-to">

    


<!-- Fixed navbar -->
<nav id="header" class="navbar navbar-default">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="site-title" href="../index.html">
            <img src="../img/XLTDoc-logo-transparent-165x82.png" id="product-logo" alt="XLT Product logo" title="Xceptance LoadTest"/>
        </a>
    </div>

    

    

    

    

    

    <div id="navbar" class="navbar-collapse collapse">
        <!-- Links to external pages -->
        <ul id="navbar-right" class="nav navbar-nav navbar-right navbar-text">
	<li>
		<a href="https://lab.xceptance.de/releases/xlt/latest/apidoc/" target="_blank" title="XLT API Documentation">
			<i class="fa fa-external-link"></i>API</a>
	</li>

    <li>
 		<a href="https://ask.xceptance.de/" target="_blank" title="XLT Community Forum">
 			<i class="fa fa-external-link"></i>Forum</a>
 	</li> 
    
	<li>
		<a href="https://www.xceptance.com/xlt/" target="_blank" title="XLT Website">
			<i class="fa fa-external-link"></i>XLT Home</a>		
	</li>			
</ul>


        <ul id="navbar-left" class="nav navbar-nav navbar-text">
            <li class="inactive"><a href="../getting-started/index.html">Getting Started</a></li>
            <li class="inactive"><a href="../user-manual/index.html">User Manual</a></li>
            <li class="active"><a href="../how-to/index.html">How-To</a></li>
            <li class="inactive"><a href="../release-notes/index.html">Release Notes</a></li>
            <li class="inactive"><a href="../license.html">License</a></li>
        </ul>

    </div><!--/.nav-collapse -->

</nav>




<div id="breadcrumb" class="navbar navbar-default">
  <div>
    <ol class="breadcrumb">
      

      
        <li><a href="../index.html"><i class="fa fa-home"></i>Docs</a></li>
          
            
            <li><a href="../how-to/index.html">How-To</a></li>
          
      

      <li class="active">Validation of Success Criteria with XLT</li>
    </ol>
  </div>
</div>


    
<div id="main" class="main container-fluid">
    <div class="row">
        <div class="hidden-xs col-sm-4 col-md-3 sidenav-col">
            <nav id="sidenav" class="sidenav nav">
                <!-- TOC of all available files/pages in folder  -->
                <ul class="nav sidenav">
                





    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        
            <li>
            
                <a href="../how-to/basic-rules-for-test-suite.html">Basic rules for a Script Developer Test Suite</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../how-to/choosing-a-test-approach.html">Choose a Test Suite Approach</a>
                
            </li>
        
    

    
        
            
                <!-- Table of content from page headings for the currently loaded file-->
                <li class="current-page">
                    <a class="current-page" href="">Validation of Success Criteria with XLT</a>
                    <!-- Container for page headings TOC -->
                    <div id="toc" class="sidenav"></div>
                </li>
            
        
    

    
        
            <li>
            
                <a href="../how-to/from-scriptdeveloper-to-java.html">Migrate from Script Developer to Java</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../how-to/graphite.html">Real-Time Reporting with Graphite</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../how-to/how-to-result-browser.html">How to use the XLT Result Browser</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../how-to/how-to-structure-test-suites.html">Structuring Test Suite and Test Cases</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../how-to/importing-XLT-projects-into-eclipse.html">Run Script Test Suite From Within Eclipse</a>
                
            </li>
        
    

    

    

    

    
        
    

    

    
        
            <li>
            
                <a href="../how-to/integrating-XLT-with-Maven-and-Ivy.html">Integrating XLT with Maven and Ivy</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../how-to/jenkins-plugin.html">Continuous Load Testing with XLT Plugin for Jenkins</a>
                
            </li>
        
    

    

    
        
            <li>
            
                <a href="../how-to/properties-include-concept.html">Including Additional Property Files</a>
                
            </li>
        
    

    

    


                </ul>
            </nav>
        </div>

        <div id="content" class="col-xs-12 col-sm-8 col-md-9 content-col">
            <h2>Introduction</h2>
<p>The <span class="caps">XLT</span> plug-in for Jenkins allows to configure certain criteria that must be met by the generated report. This useful feature would also make sense for difference or trend reports. This way, you would be able to check for criteria based on how certain values evolved over time or how much they differ compared to a given baseline.<br />
Last but not least, this feature should not be restricted to Jenkins users but work  in any environment supported by <span class="caps">XLT</span>.</p>
<p>We therefore came to the conclusion to provide a stand-alone tool for this purpose that is able to handle all kind of reports generated by <span class="caps">XLT</span>.</p>
<h2>Approach</h2>
<p>To keep things simple, we decided to use XPath expressions that are evaluated on the parsed <span class="caps">XML</span> document to define whether a given criterion is met.<br />
These expressions must evaluate to a boolean result (e.g. <code>count(/some/element) &gt; 0</code>), otherwise it is seen as an error (same as for invalid XPath expressions).</p>
<p>All criteria that should be validated by the tool are defined in a single file &#8211; the criteria definition file &#8211; which is pure <span class="caps">JSON</span> and looks like this:</p>
<pre class="json"><code class="json">{
  "criteria": [
    {
      "id": "MaxRequestRuntime",
      "enabled": true,
      "condition": "count(//request/max/relativeDifference[number()&gt;10])=0",
      "message": "Maximum request runtime exceeded 10%" 
    },
    {
      "id": "P95RequestRuntime",
      "enabled": true,
      "condition": "not(//request/percentiles/p95/absoluteDifference[number()&gt;1000])",
      "message": "Request runtime (P95) increased by more than 1 second" 
    },
    {
      "id": "NoRequestErrors",
      "enabled": true,
      "condition": "not(//request/errors/*[number() &gt; 0]",
      "message": "Errorneous requests encountered" 
    }
  ]
}</code></pre>
<p>Each criterion listed in the array <code>criteria</code> is an object with following properties:</p>
<ul>
	<li>id &#8211; The ID of the criterion (required; non-blank and unique)</li>
	<li>condition &#8211; The criterion&#8217;s condition as XPath expression (required; non-blank)</li>
	<li>enabled &#8211; Whether or not the criterion is enabled (optional; defaults to <code>true</code>)</li>
	<li>message &#8211; Failure message (optional)</li>
</ul>
<p>The output generated by the tool is pure <span class="caps">JSON</span> as well and contains the following:</p>
<ul>
	<li>used/defined criteria</li>
	<li>validation status (and failure/error message) of each criterion</li>
	<li>summary per document</li>
	<li>name of validated document (as the number of validated documents is potentially greater than 1)</li>
</ul>
<h2>Usage</h2>
<p>To use the tool, open a terminal window and execute the following command sequence:</p>
<pre class="bash"><code class="bash">cd &lt;XLT&gt;/bin
./check_criteria.sh -c /path/to/criteria.json /path/to/report.xml</code></pre>
<blockquote class="note">
<p class="note">Windows users have to use the appropriate <code>.cmd</code> file located in the same directory.</p>
</blockquote>
<p>The tool is able to process more than one <span class="caps">XML</span> file in one pass. Simply specify the path of each file as additional argument:</p>
<pre class="bash"><code class="bash">cd &lt;XLT&gt;/bin
./check_criteria.sh -c /path/to/criteria.json /path/to/report1.xml /path/to/report2.xml ... </code></pre>
<p>Per default, the output will be written to standard-out but the tool also offers an option to write it to a file of your choice.</p>
<pre class="bash"><code class="bash">cd &lt;XLT&gt;/bin
./check_criteria.sh -c /path/to/criteria.json -o /path/to/validation_output.json /path/to/report.xml</code></pre>
<p>Sample output:</p>
<pre class="json"><code class="json">{
  "criteria": [
    {
      "id": "MaxRequestRuntime",
      "enabled": true,
      "condition": "count(//request/max/relativeDifference[number()&gt;10])=0",
      "message": "Maximum request runtime exceeded 10%" 
    },
    {
      "id": "P95RequestRuntime",
      "enabled": true,
      "condition": "not(//request/percentiles/p95/absoluteDifference[number()&gt;1000])",
      "message": "Request runtime (P95) increased by more than 1 second" 
    },
    {
      "id": "NoRequestErrors",
      "enabled": true,
      "condition": "not(//request/errors/*[number() &gt; 0]",
      "message": "Errorneous requests encountered" 
    }
  ],
  "checks": [
    {
      "document": "foo/bar/bumm",
      "total": {
        "passed": 1,
        "failed": 1,
        "skipped": 0,
        "error": 1
      },
      "details": {
        "MaxRequestRuntime": { "status": "failed", "message": "Maximum request runtime exceeded 10%"  },
        "P95RequestRuntime": { "status": "passed" },
        "NoRequestErrors": { "status": "error", "message": "Invalid XPath expression" }
      }
    }
  ]
}</code></pre>
<h3>Status Codes</h3>
<p>Similar as the other tools shipped with <span class="caps">XLT</span>, the criteria validation tool returns one of the following status codes:</p>
<ul>
	<li>0 on success</li>
	<li>1 if one of its input files or the criteria definition file could not be parsed</li>
	<li>2 if a required argument is missing or some of the given arguments are invalid</li>
	<li>3 if a criterion is not met or could not be evaluated (caused an error)</li>
</ul>
            <div id="footer">
	<p>Copyright © 2019 by <a href="http://www.xceptance.com/">Xceptance Software Technologies</a>. All rights reserved.</p>
</div>


        </div>
    </div>
</div>

<!-- Generate the part of the TOC that contains the headings of the currently displayed page -->
<!-- createToc (selectedHeadlines, classesTarget, classes )-->

<script>createToc('h1,h2,h3', '#toc > ul', '#sidenav nav sidenav')</script>


</body>

</html>
