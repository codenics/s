<!DOCTYPE html>
<html>




<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>4.11.x</title>
  <meta name="description" content="Xceptance LoadTest - XLT, Documentation, Manual, Howto, FAQ">

  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,700,400italic,300italic" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:100,300,400,500,700" rel="stylesheet" type="text/css">

  <link href="../css/font-awesome.min.css" rel="stylesheet" media="all"  type="text/css" />
  <link href="../css/lightbox.css" rel="stylesheet" media="all"  type="text/css" />

  <link href="../css/highlightjs/default.css" rel="stylesheet" type="text/css" />
  <link href="../css/highlightjs/mono-blue.css" rel="stylesheet" type="text/css" />

  <link href="../css/xltdoc.css" rel="stylesheet" media="all"  type="text/css" />

  <script type="text/javascript" src="../js/jquery-1.11.1.min.js"></script>
  <script type="text/javascript" src="../js/bootstrap.min.js"></script>
  <script type="text/javascript" src="../js/toc.min.js"></script>
  <script type="text/javascript" src="../js/lightbox.min.js"></script>
  <script type="text/javascript" src="../js/headroom.min.js"></script>

  <!-- <script type="text/javascript" src="../js/jquery.scrollIntoView.min.js"></script -->
  <script type="text/javascript" src="../js/xltdoc.js"></script>

  <script type="text/javascript" src="../js/highlight.pack.js"></script>
</head>


<body data-spy="scroll" data-target="#toc" data-offset="100" class="layout-manual ">

    


<!-- Fixed navbar -->
<nav id="header" class="navbar navbar-default">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="site-title" href="../index.html">
            <img src="../img/XLTDoc-logo-transparent-165x82.png" id="product-logo" alt="XLT Product logo" title="Xceptance LoadTest"/>
        </a>
    </div>

    

    

    

    

    

    <div id="navbar" class="navbar-collapse collapse">
        <!-- Links to external pages -->
        <ul id="navbar-right" class="nav navbar-nav navbar-right navbar-text">
	<li>
		<a href="https://lab.xceptance.de/releases/xlt/latest/apidoc/" target="_blank" title="XLT API Documentation">
			<i class="fa fa-external-link"></i>API</a>
	</li>

    <li>
 		<a href="https://ask.xceptance.de/" target="_blank" title="XLT Community Forum">
 			<i class="fa fa-external-link"></i>Forum</a>
 	</li> 
    
	<li>
		<a href="https://www.xceptance.com/xlt/" target="_blank" title="XLT Website">
			<i class="fa fa-external-link"></i>XLT Home</a>		
	</li>			
</ul>


        <ul id="navbar-left" class="nav navbar-nav navbar-text">
            <li class="inactive"><a href="../getting-started/index.html">Getting Started</a></li>
            <li class="inactive"><a href="../user-manual/index.html">User Manual</a></li>
            <li class="inactive"><a href="../how-to/index.html">How-To</a></li>
            <li class="active"><a href="../release-notes/index.html">Release Notes</a></li>
            <li class="inactive"><a href="../license.html">License</a></li>
        </ul>

    </div><!--/.nav-collapse -->

</nav>




<div id="breadcrumb" class="navbar navbar-default">
  <div>
    <ol class="breadcrumb">
      

      
        <li><a href="../index.html"><i class="fa fa-home"></i>Docs</a></li>
          
            
            <li><a href="../release-notes/index.html">Release Notes</a></li>
          
      

      <li class="active">4.11.x</li>
    </ol>
  </div>
</div>


    
<div id="main" class="main container-fluid">
    <div class="row">
        <div class="hidden-xs col-sm-4 col-md-3 sidenav-col">
            <nav id="sidenav" class="sidenav nav">
                <!-- TOC of all available files/pages in folder  -->
                <ul class="nav sidenav">
                





    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        
    

    

    

    

    

    

    

    

    

    

    
        
            <li>
            
                <a href="../release-notes/4.13.x.html">4.13.x</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../release-notes/4.12.x.html">4.12.x</a>
                
            </li>
        
    

    
        
            
                <!-- Table of content from page headings for the currently loaded file-->
                <li class="current-page">
                    <a class="current-page" href="">4.11.x</a>
                    <!-- Container for page headings TOC -->
                    <div id="toc" class="sidenav"></div>
                </li>
            
        
    

    
        
            <li>
            
                <a href="../release-notes/4.10.x.html">4.10.x</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../release-notes/4.9.x.html">4.9.x</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../release-notes/4.8.x.html">4.8.x</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../release-notes/4.7.x.html">4.7.x</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../release-notes/4.6.x.html">4.6.x</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../release-notes/4.5.x.html">4.5.x</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../release-notes/4.4.x.html">4.4.x</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../release-notes/4.3.x.html">4.3.x</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../release-notes/4.2.x.html">4.2.x</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../release-notes/4.1.x.html">4.1.x</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../release-notes/4.0.x.html">4.0.x</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../release-notes/3.3.x.html">3.3.x</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../release-notes/3.2.x.html">3.2.x</a>
                
            </li>
        
    


                </ul>
            </nav>
        </div>

        <div id="content" class="col-xs-12 col-sm-8 col-md-9 content-col">
            <h2><span class="caps">XLT</span> 4.11.2</h2>
<h3>Load Testing</h3>
<h4>Always round up when applying load factor (#3207)</h4>
<p>The application of a load factor always involves some kind of rounding. This was formerly done by arithmetic rounding which means that users (and arrival rate) were sometimes rounded down and sometimes rounded up depending on the computed value. As a consequence, test cases with a computed value of less than 0.5 were not run at all for the entire period of time the load factor was effective &#8211; the full measurement period in the worst case.</p>
<p>To overcome this issue, computed values will now always be rounded up to the smallest integer number that is greater than or equal to the computed value. Hence, users have to explicitly configure a load factor of 0.0 for a certain test case when they want it not to be run.</p>
<h4>Increased OS limit for number of open files (#3193)</h4>
<p>The underlying OS of our <span class="caps">XLT</span> cloud images has been tuned to use an increased limit of 128,000 for the number of open files. Unfortunately, <code>systemd</code> did not apply the OS-wide limits when starting <span class="caps">XLT</span>, but used its own settings. This is fixed now.</p>
<h4><span class="caps">ENA</span> support for <span class="caps">XLT</span> <span class="caps">AWS</span> images (#3209)</h4>
<p>Starting with <span class="caps">XLT</span> 4.11.2, our public <span class="caps">AWS</span> images can also be used for instance types of the 5th generation (C5, M5, etc.). These require the boot image to have <span class="caps">ENA</span> (Elastic Network Adapter) support enabled which was not the case yet.</p>
<h4>Distorted listings in ec2_admin (#3188)</h4>
<p>Some time ago, <span class="caps">AWS</span> started to transition to a longer ID format. Unfortunately, our tool <code>ec2_admin</code> did not account for this fact when listing <span class="caps">AWS</span> images causing distortions. This is fixed now.</p>
<h3>Client-Performance Measurements</h3>
<h4>Wrong timings for requests with the same <span class="caps">URL</span> (#3186)</h4>
<p>If the same resource (i.e. same <span class="caps">URL</span>) is requested multiple times without a page load in between, our client-performance measurement extensions for Chrome and Firefox reported all those requests, however, all of them had the same start time, duration and so on. This is fixed now.</p>
<h4>Incorrect handling of raw request body (#3192)</h4>
<p>Our client-performance measurement extensions for Chrome and Firefox also attempt to collect the raw request body for <span class="caps">POST</span>/<span class="caps">PUT</span>/<span class="caps">PATCH</span> requests. Unfortunately, this approach did not work reliably and often resulted in a string containing the <span class="caps">NUL</span> character &#8216;\u0000&#8217;.</p>
<p>The algorithm used to process the body of a request has been completely rewritten to overcome this issue. It will now attempt to decode the raw body given as byte sequence back to a string if possible, and encode it as base64 string otherwise.</p>
<p>When inspecting the raw body of a request in XLT&#8217;s Result Browser, you might notice that some parts start with <em>[base64]</em> or even with <em>[file]</em>. These prefixes indicate that the decoding of this body part has failed and it will thus be transmitted to <span class="caps">XLT</span> as base64 string, or that this body part was a file upload. If there is no such prefix, decoding succeeded and resulted in the string shown there.</p>
<h3><span class="caps">XLT</span> Jenkins Plugin</h3>
<h4>Add option to control whether results should be archived (#3175)</h4>
<p>Once a load test has completed, its results will automatically be downloaded and stored on the Jenkins master node. This may cause trouble, esp. when running load tests for several hours and the total size of downloaded results grows up to dozens of gigabytes. Hence, we added an option that allows you to control whether or not test results are archived.</p>
<h4>Difference report generation on slave nodes (#3169)</h4>
<p>Similar to load test reports, difference reports can now be generated on Jenkins slave nodes as well.</p>
<h4>Allow user to specify property file as override for mastercontroller.properties (#3160)</h4>
<p>Sometimes, it might be necessary to use settings other than those of the configured <span class="caps">XLT</span> installation, e.g. default number of agents per agent controller. From now on, you can do so by simply passing the path of the properties file to use as override for the properties defined in <code>mastercontroller.properties</code>.</p>
<h4>NotSerializableException thrown when using custom pipeline step &#8216;xlt&#8217; (#3152)</h4>
<p>When using the custom pipeline step &#8216;xlt&#8217; it might happen that a <code>NotSerializableException</code> was thrown causing the entire build to fail although the execution of the step succeeded. This is fixed now.</p>
<h3>Miscellaneous</h3>
<h4>New <span class="caps">SSL</span> certificate for samples app server (#3138)</h4>
<p>Posters, the demo application shipped with <span class="caps">XLT</span>, is run on a Jetty app server which comes with a self-signed <span class="caps">SSL</span> certificate. This certificate might cause trouble with some browsers as it has been issued for a host named <code>jetty.mortbay.com</code> but the server typically runs on your machine, i.e. on <code>localhost</code>. Starting with <span class="caps">XLT</span> 4.11.2, the Jetty app server will use an <span class="caps">SSL</span> certificate that is issued for <code>localhost</code> and valid to 8/15/2023.</p>
<h2><span class="caps">XLT</span> 4.11.1</h2>
<h3>Framework</h3>
<h4>Default request headers overwrite request-specific ones (#3148)</h4>
<p>When using HtmlUnit as the underlying browser, users have the opportunity to define one or more request headers at the web-client. These headers are called <em>default headers</em> because they are sent with every request made by the web-client. However, request headers set at a particular request always have a higher precedence than the default ones and only those default headers that are missing at the request should be used. Unfortunately, this was not the case. Fixed.</p>
<h4>Allow user to turn off event logging for failed requests (#3178)</h4>
<p><span class="caps">XLT</span> automatically logs an event for each request that is seen as failed: its response status code is greater than 399 or there is no response at all. This is absolutely fine for most cases. But when load testing a system that is known to return a status code that is seen as failed for certain URLs, the overall number of logged events quickly goes through the roof. This also has a negative impact on the size of both, the raw <span class="caps">XLT</span> results and the generated report.</p>
<p>Since <span class="caps">XLT</span> 4.11.1, users can use the newly introduced property <code>com.xceptance.xlt.http.requestFailure.logEvent</code> to disable event logging for failed requests.</p>
<h3>Client-Performance Measurements</h3>
<h4>Support First Contentful Paint event (#3153)</h4>
<p>Chrome 60 implemented the <a href="https://www.w3.org/TR/paint-timing/">Paint Timing <span class="caps">API</span></a> which can be used to measure the time of <em>First Paint</em> and <em>First Contentful Paint</em> events. Although XLT&#8217;s client-performance WebDriver for Chrome includes support for measuring the time of First Paint events since <span class="caps">XLT</span> 4.6.0, support for measuring the time of First Contentful Paint events was missing. Now First Contentful Paint events will be captured as well. They can be found in the <em>Custom Timers</em> section of XLT&#8217;s load test report.  Similar to First Paint, the name of the most recently started action determines the final name of the measurement. For example, if the most recently started action is named <em>OpenHomepage</em>, the corresponding First Contentful Paint event is measured by the custom timer named <em>OpenHomepage [FirstContentfulPaint]</em>.</p>
<blockquote class="note">
<p class="note">Since Firefox does not implement the Paint Timing <span class="caps">API</span>, XLT&#8217;s client-performance WebDriver for Firefox is not capable of measuring and reporting times for <em>First Paint</em> and <em>First Contentful Paint</em> events.</p>
</blockquote>
<h2><span class="caps">XLT</span> 4.11.0</h2>
<h3>Test Framework</h3>
<h4>Improvements for Data-Driven Tests</h4>
<p><strong>Run test with a single data set during development</strong> &#8211; When running a test case with a data sets file attached, the test case will normally be executed multiple times, once for each data set in the file. During test case development or maintenance, where you often need to try and see whether the test is running okay now, this automatic multiplication might become annoying. That&#8217;s why you can now annotate the test case with the index of the data set that you would like to use during development:</p>
<pre class="java"><code class="java">@DataSetIndex(2)    // use the 3rd data set
public class MyTest 
{
...
}</code></pre>
<p>Don&#8217;t forget to remove or comment out this annotation once you are done with maintaining the test case.</p>
<p><strong>Data set support in load tests</strong> &#8211; When a test case with an attached data set file is part of a <em>load test</em>, <span class="caps">XLT</span> will not run it multiple times, but only once. Previously, <span class="caps">XLT</span> did even ignore the test data in the data sets file altogether. Hence, you would have to provide default test data in your test case, or otherwise your test case would break. This is not necessary any longer.</p>
<p>From now on, <span class="caps">XLT</span> will inject a single data set from your data sets file into your test case. You are in control which data set will be used. By default, the first data set is taken. If the property <code>com.xceptance.xlt.data.dataSets.loadtest.pickRandomDataSet</code> is set to <code>true</code>, the data set is chosen randomly whenever the test is executed. If the annotation <code>@DataSetIndex</code> is present at the test case, the data set matching the specified index is chosen. Note that the annotation takes precedence over the property.</p>
<p><strong>Comment lines in <span class="caps">CSV</span> data set files</strong> &#8211; <span class="caps">XLT</span> now supports comment lines in <span class="caps">CSV</span> data set files. This is useful not only to add comments, but also to temporarily disable certain data sets without deleting them. The <code>#</code> is the default line comment marker, but you can configure another character if needed:</p>
<pre class="ini"><code class="ini">com.xceptance.xlt.data.dataSetProviders.csv.lineCommentMarker = %</code></pre>
<h4>Improvements for Java-based Script Test Cases</h4>
<p><strong>Mouse coordinates as separate values</strong> &#8211; Some script command methods require passing a mouse pointer position, i.e. <code>contextMenuAt</code>, <code>mouseDownAt</code>, <code>mouseMoveAt</code>, and <code>mouseUpAt</code>. These methods have got an overloaded version. Previously, you had to specify the mouse position as a single string parameter in the format &#8220;x,y&#8221;. Now, you can pass the mouse position as separate coordinates as well:</p>
<pre class="java"><code class="java">contextMenuAt("css=#foo", "10,20")
contextMenuAt("css=#foo", 10, 20)</code></pre>
<p><strong>Helpful stack trace for failed &#8230;AndWait commands</strong> &#8211; If an <code>...AndWait</code> command fails in Java-based script test cases, the stack trace shown is no longer one of XLT&#8217;s internal threads, but the one of the test case thread. This way, it is easier for you to locate the failed command in the test case code.</p>
<h4>Other Improvements</h4>
<p><strong>Selenium updated</strong> &#8211; Selenium has been updated to latest available version 3.12.0. Make sure you also update the driver binaries for all the browsers you want to use in your test cases. See below for a list of links to download the driver binary for your browser:</p>
<ul>
	<li>Chrome/Chromium: <a href="http://chromedriver.storage.googleapis.com/index.html">chromedriver</a></li>
	<li>Edge: <a href="https://go.microsoft.com/fwlink/?linkid=619687">MicrosoftWebDriver.exe</a></li>
	<li>Firefox: <a href="https://github.com/mozilla/geckodriver/releases">geckodriver</a></li>
	<li>Internet Explorer: <a href="http://selenium-release.storage.googleapis.com/index.html">IEDriverServer.exe</a></li>
	<li>Opera: <a href="https://github.com/operasoftware/operachromiumdriver/releases">operadriver</a></li>
	<li>PhantomJS: <a href="http://phantomjs.org/download.html">phantomjs</a></li>
</ul>
<p><strong>Change the list of items stored in a data provider</strong> &#8211; The class <code>DataProvider</code> reads test data items from a file, stores them in memory, and returns a randomly chosen item when requested by a test case. Previously, the list of test data items could not be changed during runtime. Now, it is possible to add items to the data provider &#8211; or remove items from it, respectively &#8211; while the (load) test is still ongoing. For example, if a certain coupon code is no longer applicable, the test case might remove it from the data provider so that it won&#8217;t be used any longer.</p>
<p><strong>Transaction runtimes also in dev mode</strong> &#8211; When running a test case, <span class="caps">XLT</span> will store all measurements and other information to the corresponding <code>timers.csv</code> file. However, transaction data was available only when the test case was run in a load test, but not when running it in development mode, i.e. from within your <span class="caps">IDE</span> or via a JUnit test framework. From now on, this data is available in any case.</p>
<p>Each execution of a test method results in a separate transaction entry in the appropriate <code>timers.csv</code> file. In case of a data-driven test, you will get one entry per data set as expected. But note that this feature comes with some subtle behavioral changes:</p>
<blockquote class="note">
<p class="note">Any method annotated with <code>@BeforeClass</code> or <code>@AfterClass</code> in your test case won&#8217;t be part of the transaction runtime measurement any longer. Likewise, exceptions thrown in of any of these methods will no longer appear in <code>timers.csv</code>.</p>
</blockquote>
<p>Please check your existing load test cases if they make use of <code>@BeforeClass</code> / <code>@AfterClass</code> methods. If so, please turn them into <code>@Before</code> / <code>@After</code> methods. This shouldn&#8217;t be a breaking change as load test cases can have only one test method anyway. And in that case, it makes no difference if you annotate your before / after methods with <code>@Before</code> / <code>@After</code> or <code>@BeforeClass</code> / <code>@AfterClass</code>.</p>
<h3>Load Testing</h3>
<h4 id="SuccessCriteriaValidationTool">Success Criteria Validation Tool</h4>
<p>In case you do not run your load tests manually but in an automated fashion, you might also want to qualify the results in an automated way. For example, if a load test violates some basic success criteria, then there is probably no use of running further load tests afterwards and you might want the automated process to fail.</p>
<p>To make this possible, you will need two things: a set of formal success criteria according to your requirements and a command-line tool to check them against the load test results. While we cannot really help you with the former, we have provided the latter &#8211; <span class="caps">XLT</span> now ships with the criteria validation tool <code>check_criteria.sh</code>. This tool basically reads success criteria definitions from a <span class="caps">JSON</span> file and applies them to one or more <span class="caps">XML</span> files of your choice. The return code of the tool indicates whether or not all success criteria were met.</p>
<pre class="ini"><code class="ini">&lt;xlt&gt;/bin/check_criteria.sh -c success-criteria.json -o validation-results.json &lt;xlt&gt;/reports/20180516-183822/testreport.xml</code></pre>
<p>You can use the tool with any kind of <span class="caps">XLT</span> reports as they all host an <span class="caps">XML</span> file with the bare result data in their root directory. These files are named <code>testreport.xml</code> for regular load test reports, <code>diffreport.xml</code> for comparison reports, and <code>trendreport.xml</code> for trend reports.</p>
<p>For more details on how to define success criteria and how to run the tool, see <a href="../how-to/criteria-validation-tool.html">Criteria Validation Tool</a> in the <em>How-To</em> section of the user manual.</p>
<h3><span class="caps">XLT</span> Jenkins Plugin</h3>
<p><strong><span class="caps">XLT</span> pipeline step returns a result object</strong> &#8211; Since <span class="caps">XLT</span> 4.10, our Jenkins plugin has been able to take part in a pipeline natively. In this release, we have extended the plugin to return all useful result information bundled as a result object so that this data can be evaluated in the pipeline if needed.</p>
<pre class="groovy"><code class="groovy">def r = xlt stepId: 'any-step-id', xltTemplateDir: '/path/to/xlt'
echo "Run failed: ${r.runFailed} | Report URL: ${r.reportUrl}"</code></pre>
<p>Please see the <a href="../how-to/jenkins-plugin.html#toc-pipelines">Jenkins How-To</a> for all the details on this result object.</p>
<p><strong>Create a comparison report</strong> &#8211; Up to now, the plugin offered the option to create a summary report or a trend report based on the results of the last <em>N</em> builds. Now, the plugin may also generate a comparison report that compares the results of the current build with the results of a given baseline build.</p>
<p class="illustration"><img src="../img/releasenotes/4.11.0/jenkins_comparison_report.png" title="Create a comparison report" alt="Create a comparison report" /></p>
<p>Additionally, you may also specify a success criteria definition file to let the comparison report be evaluated automatically. See <a href="#SuccessCriteriaValidationTool">Success Criteria Validation Tool</a> for more information.</p>
            <div id="footer">
	<p>Copyright © 2019 by <a href="http://www.xceptance.com/">Xceptance Software Technologies</a>. All rights reserved.</p>
</div>


        </div>
    </div>
</div>

<!-- Generate the part of the TOC that contains the headings of the currently displayed page -->
<!-- createToc (selectedHeadlines, classesTarget, classes )-->

<script>createToc('h1,h2,h3', '#toc > ul', '#sidenav nav sidenav')</script>


</body>

</html>
